# StacksOS Environment Configuration
# Copy this file to .env.local and configure for your environment

# ============================================================================
# Evergreen ILS Connection
# ============================================================================

# Base URL for Evergreen OpenSRF gateway (HTTPS recommended)
EVERGREEN_BASE_URL=https://your-evergreen-server.org

# SSL Certificate Verification
# SECURITY WARNING: Only disable for development with self-signed certificates
# In production, install proper SSL certificates instead
# If using an internal CA / self-signed certificate, prefer adding the CA:
# NODE_EXTRA_CA_CERTS=/path/to/evergreen-ca.crt
# NODE_TLS_REJECT_UNAUTHORIZED=0

# ============================================================================
# Evergreen Database Connection (Direct PostgreSQL)
# ============================================================================

EVERGREEN_DB_HOST=your-db-host
EVERGREEN_DB_PORT=5432
EVERGREEN_DB_NAME=evergreen
EVERGREEN_DB_USER=evergreen
EVERGREEN_DB_PASSWORD=your-secure-password-here

# ============================================================================
# StacksOS Configuration
# ============================================================================

# Base URL for StacksOS (used in email notifications, etc.)
STACKSOS_BASE_URL=https://catalog.yourlibrary.org

# ============================================================================
# UI Environment Banner (Polaris-style)
# ============================================================================
# Optional: show an environment banner in the top header for easy visual distinction.
# Examples:
#   STACKSOS_ENV_LABEL=PRODUCTION
#   STACKSOS_ENV_TONE=prod
#
# Tones: prod | training | sandbox | dev
# STACKSOS_ENV_LABEL=
# STACKSOS_ENV_TONE=

# RBAC Mode: strict (enforce permissions), warn (log violations), off (disabled)
STACKSOS_RBAC_MODE=strict

# Cookie Security (set to true in production with HTTPS)
STACKSOS_COOKIE_SECURE=true

# OpenSRF Gateway Timeout (milliseconds)
STACKSOS_EVERGREEN_TIMEOUT_MS=15000

# Email Notification Configuration
# ============================================================================

# Email Provider
# Options: console (dev only - logs to console), resend, sendgrid, ses
STACKSOS_EMAIL_PROVIDER=console

# Provider-specific API Keys
# For Resend: Get from https://resend.com/api-keys
# For SendGrid: Get from https://app.sendgrid.com/settings/api_keys  
# For AWS SES: Use AWS access key
# STACKSOS_EMAIL_API_KEY=re_xxxxxxxxxxxxxxxxxxxx

# Default From Address (used if library-specific email not set)
STACKSOS_EMAIL_FROM=noreply@yourlibrary.org
STACKSOS_EMAIL_FROM_NAME=Your Library Name

# AWS SES Configuration (only if using SES provider)
# STACKSOS_EMAIL_REGION=us-east-1

# Dry Run Mode - set to true to log emails without actually sending them
# Useful for testing email templates and logic without sending real emails
STACKSOS_EMAIL_DRY_RUN=true

# ============================================================================
# Email Provider Setup Examples
# ============================================================================
#
# RESEND (Recommended for ease of use):
#   STACKSOS_EMAIL_PROVIDER=resend
#   STACKSOS_EMAIL_API_KEY=re_xxxxxxxxxxxxxxxxxxxx
#   STACKSOS_EMAIL_FROM=noreply@yourlibrary.org
#   STACKSOS_EMAIL_DRY_RUN=false
#
# SENDGRID:
#   STACKSOS_EMAIL_PROVIDER=sendgrid
#   STACKSOS_EMAIL_API_KEY=SG.xxxxxxxxxxxxxxxxxxxx
#   STACKSOS_EMAIL_FROM=noreply@yourlibrary.org
#   STACKSOS_EMAIL_DRY_RUN=false
#
# AMAZON SES:
#   STACKSOS_EMAIL_PROVIDER=ses
#   STACKSOS_EMAIL_API_KEY=AKIAXXXXXXXXXXXX
#   STACKSOS_EMAIL_REGION=us-east-1
#   STACKSOS_EMAIL_FROM=noreply@yourlibrary.org
#   STACKSOS_EMAIL_DRY_RUN=false
#
# DEVELOPMENT (Console logging only):
#   STACKSOS_EMAIL_PROVIDER=console
#   STACKSOS_EMAIL_DRY_RUN=true
#
# ============================================================================
# Security & Performance
# ============================================================================

# Node Environment
NODE_ENV=production

# Session Secret (generate with: openssl rand -base64 32)
# SESSION_SECRET=your-random-secret-here

# ============================================================================
# Optional Features
# ============================================================================

# Enable/disable specific features
# STACKSOS_FEATURE_OFFLINE_MODE=true
# STACKSOS_FEATURE_SELF_CHECKOUT=true
# STACKSOS_FEATURE_PATRON_MESSAGING=false

# Logging Level: debug, info, warn, error
# STACKSOS_LOG_LEVEL=info

# ============================================================================
# Development Only
# ============================================================================

# Bundle Analyzer (set to true to generate bundle analysis)
# ANALYZE=false

# Verbose Logging
# STACKSOS_DEBUG=false
